---
title: 博客搬家啦
category: Linux
date: 2024-06-20 00:52:00
index_img: https://hexo.io/logo.svg
---


![封面](https://hexo.io/logo.svg)

# TL;DR
之前的博客，是用typecho部署的。typecho是个很优秀的博客框架，但我把他放在自己的小服务器上，并且套了CloudFlare，访问速度十分的慢。这次我决定将其迁移到`Hexo`框架上，并迁移到GithubPages。

# 特效JS怎么办
我把每个用到的`script`标签都单独独立成`js`文件了，并在`_config.yml`中进行了引用。本站源码[在这](https://github.com/CoolestEnoch/CoolestEnoch/tree/pages-blog-source)。

# 怎么搭建的
> ⚠️注意: ***我的开发环境是`Arch Linux`***，先`sudo pacman -Syu`系统更新一下，要不然nodejs安装软件包的时候可能会出错。

## 安装nodejs包管理器
安装`npm`就行，它会把`nodejs`一起送你。
``` shell
sudo pacman -S npm
```

## 安装`Hexo`
``` shell
npm install hexo-cli -g
hexo init /path/to/blog/folder # 这个是你博客的工作目录
cd /path/to/blog/folder
npm install
```

## 安装主题
我用的是[`Fluid`主题](https://github.com/fluid-dev/hexo-theme-fluid)。先进行下载：
``` shell
git clone --depth=1 https://github.com/fluid-dev/hexo-theme-fluid.git ./themes/fluid
```
修改博客工作目录根目录下的`_config.yml`里:
```yaml
theme: fluid
language: zh-CN
```
这个主题需要手动创建一下关于页，并按实际情况去关于页的`index.md`里修改关于内容就行。
``` shell
hexo new page about
```
然后就是根据`themes/fluid`里的提示，按需更改博客信息了。

## 开始写文
在`source/_posts`中进行写作，markdown文件名不需要遵守日期之类的格式标准，只需在文件开头声明即可：
``` markdown
---
title: 文章标题
category: 分类
date: YYYY-MM-DD HH:mm:SS
index_img: 外面看到的封面图
---
```

写好后，测试一下:
``` shell
hexo clean && hexo generate && hexo server
```
浏览器打开localhost的4000端口看看是不是自己想要的样子～

# 上传博客
得先在博客工作目录里安装`hexo-deployer-git`，这样就可以直接部署到github pages上了:
``` shell 
npm install hexo-deployer-git --save
```
然后在博客工作目录根目录下的`_config.yml`里，按照实际情况修改以下字段:
``` yml
deploy:
	type: git
	repository: git@github.com:YourUserName/YourRepoName.git
	branch: YourPageBranch
```
然后就是，上传！
``` shell
hexo clean && hexo generate && hexo deploy
```
这个上传会把工作目录下的`.deploy_git`文件夹内的内容传上去。如果你想要在存放github pages静态网页的目录里存放单独的文件，那么在工作目录下的`source`文件夹里添加就行。比如我存了一个`CNAME`文件，直接新建，然后丢进去就行。